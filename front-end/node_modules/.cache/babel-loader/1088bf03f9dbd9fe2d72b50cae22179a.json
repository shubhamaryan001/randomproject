{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mindt\\\\Downloads\\\\hospital-management-master\\\\hospital-management-master\\\\front-end\\\\src\\\\patient\\\\EditPatient.js\";\nimport React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth/index\";\nimport { read } from \"./patientFunction\";\n\nclass EditPatient extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      this.setState({\n        error: \"\"\n      });\n    };\n\n    this.editPatient = patient => {\n      return fetch(`http://localhost:8080/patient/${this.state._id}`, {\n        method: \"PUT\",\n        headers: {\n          Accept: \"applicatoion/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${isAuthenticated().token}`\n        },\n        body: JSON.stringify(patient)\n      }).then(response => {\n        return response.json();\n      }).catch(err => console.log(err));\n    };\n\n    this.clickSubmit = event => {\n      event.preventDefault();\n      const {\n        firstname,\n        lastname,\n        gender,\n        age,\n        dob,\n        occupation,\n        phoneNumber\n      } = this.state;\n      const patient = {\n        firstname: firstname,\n        lastname: lastname,\n        gender: gender,\n        dob: dob,\n        age: age,\n        occupation: occupation,\n        phoneNumber: phoneNumber\n      };\n      console.log(patient);\n      this.editPatient(patient).then(data => {\n        console.log(data);\n        if (data.error) this.setState({\n          error: data.error\n        });else this.setState({\n          firstname: \"\",\n          lastname: \"\",\n          gender: \"\",\n          dob: \"\",\n          age: \"\",\n          occupation: \"\",\n          phoneNumber: \"\",\n          open: true\n        });\n      });\n    };\n\n    this.init = patientId => {\n      const token = isAuthenticated().token;\n      read(patientId, token).then(data => {\n        if (data.error) this.setState({\n          redirectToSignin: true\n        });else this.setState({\n          _id: data._id,\n          firstname: data.firstname,\n          lastname: data.lastname,\n          gender: data.gender,\n          dob: data.dob,\n          age: data.age,\n          occupation: data.occupation,\n          phoneNumber: data.phoneNumber\n        });\n      });\n    };\n\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      gender: \"\",\n      dob: \"\",\n      age: \"\",\n      occupation: \"\",\n      phoneNumber: \"\",\n      error: \"\",\n      _id: \"\",\n      open: false\n    };\n  }\n\n  componentDidMount() {\n    const patientId = this.props.match.params.patientId;\n    this.init(patientId);\n  }\n\n  render() {\n    const {\n      firstname,\n      lastname,\n      gender,\n      age,\n      dob,\n      occupation,\n      phoneNumber,\n      error,\n      open\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"Edit Patient Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, error), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"firstname\"),\n      value: firstname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"lastname\"),\n      value: lastname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.handleChange(\"gender\"),\n      value: gender,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, \"--select--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Male\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Female\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Others\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"Others\")), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Date of birth\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"dob\"),\n      value: dob,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"age\"),\n      value: age,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Occupation\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"occupation\"),\n      value: occupation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"Mobile Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"phoneNumber\"),\n      value: phoneNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.clickSubmit,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: open ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"Patient successfully updated\")));\n  }\n\n}\n\nexport default EditPatient;","map":{"version":3,"sources":["C:/Users/mindt/Downloads/hospital-management-master/hospital-management-master/front-end/src/patient/EditPatient.js"],"names":["React","Component","isAuthenticated","read","EditPatient","constructor","handleChange","name","event","setState","target","value","error","editPatient","patient","fetch","state","_id","method","headers","Accept","Authorization","token","body","JSON","stringify","then","response","json","catch","err","console","log","clickSubmit","preventDefault","firstname","lastname","gender","age","dob","occupation","phoneNumber","data","open","init","patientId","redirectToSignin","componentDidMount","props","match","params","render","display"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\r\nimport {isAuthenticated} from \"../auth/index\";\r\nimport {read} from \"./patientFunction\"\r\nclass EditPatient extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state ={\r\n            firstname:\"\",\r\n            lastname:\"\",\r\n            gender:\"\",\r\n            dob:\"\",\r\n            age:\"\",\r\n            occupation:\"\",\r\n            phoneNumber:\"\",\r\n            error:\"\",\r\n            _id:\"\",\r\n            open:false\r\n        }\r\n    }\r\n\r\n    handleChange = name=>event=>{\r\n        this.setState({[name]:event.target.value});\r\n        this.setState({error:\"\"});\r\n      }    \r\n    \r\n    editPatient = patient =>{\r\n        return fetch(`http://localhost:8080/patient/${this.state._id}`,{\r\n            method: \"PUT\",\r\n            headers:{\r\n                Accept:\"applicatoion/json\",\r\n                \"Content-Type\":\"application/json\",\r\n                Authorization:`Bearer ${isAuthenticated().token}`\r\n            },\r\n            body: JSON.stringify(patient)\r\n        }) \r\n        .then(response=>{ \r\n            return response.json()  \r\n        })\r\n        .catch(err=>console.log(err))\r\n    };  \r\n     \r\n    clickSubmit = event=>{\r\n        event.preventDefault()\r\n        const{firstname,lastname,gender,age,dob,occupation,phoneNumber} = this.state\r\n        const patient={\r\n            firstname:firstname,\r\n            lastname:lastname,\r\n            gender:gender,\r\n            dob:dob,\r\n            age:age,\r\n            occupation:occupation, \r\n            phoneNumber:phoneNumber\r\n        }\r\n        console.log(patient);\r\n        this.editPatient(patient)\r\n        .then(data=>{   \r\n            console.log(data)\r\n            if(data.error)this.setState({error: data.error});\r\n            else this.setState({\r\n              firstname:\"\",\r\n              lastname:\"\",\r\n              gender:\"\",\r\n              dob:\"\",\r\n              age:\"\",\r\n              occupation:\"\",\r\n              phoneNumber:\"\",\r\n              open:true\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    init = patientId =>{\r\n        const token = isAuthenticated().token;\r\n        read(patientId,token).then(data=>{\r\n            if(data.error) this.setState({redirectToSignin: true});\r\n            else this.setState({\r\n    _id:data._id, firstname:data.firstname,lastname:data.lastname,gender:data.gender,dob:data.dob,age:data.age,occupation:data.occupation,phoneNumber:data.phoneNumber});\r\n    });\r\n    };\r\n\r\n    componentDidMount(){\r\n        const patientId =this.props.match.params.patientId\r\n        this.init(patientId);\r\n    }\r\n    render(){\r\n        const {firstname,lastname,gender,age,dob,occupation,phoneNumber,error,open} = this.state\r\n        return(\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Edit Patient Profile</h2>\r\n                <div className=\"form-group\">\r\n          <form  >\r\n          <div className=\"alert alert-danger\" style={{display: error?\"\":\"none\"}}>\r\n                {error}\r\n        </div>\r\n              <label  className=\"text-muted\">First Name</label>\r\n              <input  type=\"text\" className=\"form-control\"onChange={this.handleChange(\"firstname\")}value={firstname}></input>\r\n              <label className=\"text-muted\">Last Name</label>\r\n              <input type=\"text\" className=\"form-control\"onChange={this.handleChange(\"lastname\")}value={lastname}></input>\r\n              <label className=\"text-muted\">Gender</label>\r\n              <select className=\"form-control\"onChange={this.handleChange(\"gender\")}value={gender}>\r\n              <option value=\"\">--select--</option>\r\n              <option value=\"Male\">Male</option>\r\n              <option value=\"Female\">Female</option>\r\n              <option value=\"Others\">Others</option>\r\n              </select>\r\n              <label className=\"text-muted\">Date of birth</label>\r\n              <input  type=\"date\" className=\"form-control\"onChange={this.handleChange(\"dob\")}value={dob}></input>\r\n              <label className=\"text-muted\">Age</label>\r\n              <input  type=\"text\" className=\"form-control\"onChange={this.handleChange(\"age\")}value={age}></input>\r\n              <label className=\"text-muted\">Occupation</label>\r\n              <input  type=\"text\"className=\"form-control\"onChange={this.handleChange(\"occupation\")}value={occupation}></input>\r\n              <label className=\"text-muted\">Mobile Number</label>\r\n              <input  type=\"number\" className=\"form-control\"onChange={this.handleChange(\"phoneNumber\")}value={phoneNumber}></input>\r\n              </form>\r\n              <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\r\n              <div className=\"alert alert-info\" style={{display: open?\"\":\"none\"}}>\r\n                    Patient successfully updated\r\n                </div>\r\n          </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPatient;"]},"metadata":{},"sourceType":"module"}