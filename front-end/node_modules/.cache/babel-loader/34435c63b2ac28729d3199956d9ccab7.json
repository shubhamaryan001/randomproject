{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mindt\\\\Downloads\\\\hospital-management-master\\\\hospital-management-master\\\\front-end\\\\src\\\\users\\\\Signin.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { signin, authenticate } from \"../auth/index\";\n\nclass Signin extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      this.setState({\n        error: \"\"\n      });\n    };\n\n    this.clickSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const {\n        username,\n        password\n      } = this.state;\n      const user = {\n        username: username,\n        password: password\n      };\n      console.log(user);\n      signin(user).then(data => {\n        if (data.error) this.setState({\n          error: data.error,\n          loading: false\n        });else {\n          authenticate(data, () => {\n            this.setState({\n              redirectToReferer: true\n            });\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: \"\",\n      redirectToReferer: false,\n      loading: false\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      error,\n      redirectToReferer,\n      loading\n    } = this.state;\n\n    if (redirectToReferer) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"Signin Here\"), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 67\n      }\n    }, \"Loading...\")) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, error), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      onChange: this.handleChange(\"username\"),\n      value: username,\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.handleChange(\"password\"),\n      value: password,\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.clickSubmit,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, \"Submit\")));\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["C:/Users/mindt/Downloads/hospital-management-master/hospital-management-master/front-end/src/users/Signin.js"],"names":["React","Component","Redirect","signin","authenticate","Signin","constructor","handleChange","name","event","setState","target","value","error","clickSubmit","preventDefault","loading","username","password","state","user","console","log","then","data","redirectToReferer","render","display"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport {signin,authenticate} from \"../auth/index\"\r\nclass  Signin extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            username:\"\",\r\n            password:\"\",\r\n            error:\"\",\r\n            redirectToReferer:false,\r\n            loading:false\r\n        }\r\n    }\r\n\r\n    handleChange = name=>event=>{\r\n        this.setState({[name]: event.target.value}); \r\n        this.setState({error:\"\"});\r\n    };\r\n\r\n\r\n    clickSubmit = event =>{\r\n        event.preventDefault()\r\n        this.setState({loading:true})\r\n        const{username,password} = this.state\r\n        const user = {\r\n            username:username,\r\n            password:password\r\n        };\r\n        console.log(user)\r\n        signin(user)\r\n        .then(data =>{\r\n            if(data.error) this.setState({error: data.error,loading:false});\r\n            else{\r\n                    authenticate(data,()=>{\r\n                    this.setState({redirectToReferer:true})\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n    render(){\r\n        const {username,password,error,redirectToReferer,loading} = this.state\r\n        if(redirectToReferer){\r\n            return <Redirect to=\"/\"/>\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className = \"mt-5 mb-5\">Signin Here</h2>\r\n                {loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2></div>:\"\"}\r\n                <div className=\"alert alert-danger\" style={{display: error?\"\":\"none\"}}>\r\n                    {error}\r\n                </div>\r\n                <form>\r\n                    <div className=\"form-group\">\r\n                        <label >Username</label>\r\n                        <input type=\"email\" onChange={this.handleChange(\"username\")} value = {username} className=\"form-control\"></input>\r\n                        <label >Password</label>\r\n                        <input type=\"password\" onChange={this.handleChange(\"password\")} value = {password} className=\"form-control\"></input>\r\n                    </div>\r\n                    <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    } \r\n}\r\n\r\nexport default Signin;"]},"metadata":{},"sourceType":"module"}