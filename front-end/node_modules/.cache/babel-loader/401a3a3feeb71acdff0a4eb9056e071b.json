{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mindt\\\\Downloads\\\\hospital-management-master\\\\hospital-management-master\\\\front-end\\\\src\\\\billing\\\\Billing.js\";\nimport React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { read } from \"../patient/patientFunction\";\n\nclass Billing extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      this.setState({\n        error: \"\"\n      });\n    };\n\n    this.clickSubmit = event => {\n      event.preventDefault();\n      const {\n        patient_id,\n        DoctorName,\n        DoctorCharge,\n        RoomCharge,\n        ExtraCharge,\n        phoneNumber\n      } = this.state;\n      const bill = {\n        patient_id: patient_id,\n        DoctorName: DoctorName,\n        DoctorCharge: DoctorCharge,\n        RoomCharge: RoomCharge,\n        ExtraCharge: ExtraCharge,\n        phoneNumber: phoneNumber\n      };\n      console.log(bill);\n      this.generateBill(bill).then(data => {\n        if (data.error) this.setState({\n          error: data.error\n        });else this.setState({\n          DoctorName: \"\",\n          DoctorCharge: \"\",\n          RoomCharge: \"\",\n          phoneNumber: \"\",\n          open: true\n        });\n      });\n    };\n\n    this.generateBill = bill => {\n      return fetch(`http://localhost:8080/billing/create/${this.state.patient_id}`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${isAuthenticated().token}`\n        },\n        body: JSON.stringify(bill)\n      }).then(response => {\n        return response.json();\n      }).catch(err => console.log(err));\n    };\n\n    this.init = patientId => {\n      const token = isAuthenticated().token;\n      read(patientId, token).then(data => {\n        if (data.error) {\n          console.log(\"Some problem occured\");\n        } else {\n          this.setState({\n            patient_id: data._id,\n            phoneNumber: data.phoneNumber\n          });\n        }\n      });\n    };\n\n    this.state = {\n      patient_id: \"\",\n      DoctorName: \"\",\n      DoctorCharge: \"\",\n      RoomCharge: \"\",\n      ExtraCharge: \"\",\n      phoneNumber: \"\",\n      error: \"\",\n      open: false\n    };\n  }\n\n  componentDidMount() {\n    const patientId = this.props.match.params.patientId;\n    this.init(patientId);\n  }\n\n  render() {\n    const {\n      DoctorName,\n      DoctorCharge,\n      RoomCharge,\n      ExtraCharge,\n      phoneNumber,\n      open,\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, \"Billing Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, error), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, \"Doctor Incharge\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"DoctorName\"),\n      value: DoctorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"Doctor's Charges\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"DoctorCharge\"),\n      value: DoctorCharge,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Room Charges\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"RoomCharge\"),\n      value: RoomCharge,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, \"Extra Charges\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"ExtraCharge\"),\n      value: ExtraCharge,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, \"Mobile Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChange(\"mobileNumber\"),\n      value: phoneNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.clickSubmit,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: open ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"Bill successfully generated! Please view the bill.\"));\n  }\n\n}\n\nexport default Billing;","map":{"version":3,"sources":["C:/Users/mindt/Downloads/hospital-management-master/hospital-management-master/front-end/src/billing/Billing.js"],"names":["React","Component","isAuthenticated","read","Billing","constructor","handleChange","name","event","setState","target","value","error","clickSubmit","preventDefault","patient_id","DoctorName","DoctorCharge","RoomCharge","ExtraCharge","phoneNumber","state","bill","console","log","generateBill","then","data","open","fetch","method","headers","Accept","Authorization","token","body","JSON","stringify","response","json","catch","err","init","patientId","_id","componentDidMount","props","match","params","render","display"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,eAAT,QAAgC,SAAhC;AACA,SAASC,IAAT,QAAqB,4BAArB;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAA+B;AAC7BI,EAAAA,WAAW,GAAE;AACX;;AADW,SAabC,YAba,GAaEC,IAAI,IAAEC,KAAK,IAAE;AAC1B,WAAKC,QAAL,CAAc;AAAC,SAACF,IAAD,GAAOC,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACA,WAAKF,QAAL,CAAc;AAACG,QAAAA,KAAK,EAAC;AAAP,OAAd;AACD,KAhBY;;AAAA,SAkBbC,WAlBa,GAkBCL,KAAK,IAAG;AACpBA,MAAAA,KAAK,CAACM,cAAN;AACA,YAAM;AAACC,QAAAA,UAAD;AAAYC,QAAAA,UAAZ;AAAuBC,QAAAA,YAAvB;AAAoCC,QAAAA,UAApC;AAA+CC,QAAAA,WAA/C;AAA2DC,QAAAA;AAA3D,UAA0E,KAAKC,KAArF;AACA,YAAMC,IAAI,GAAG;AACTP,QAAAA,UAAU,EAAEA,UADH;AAETC,QAAAA,UAAU,EAACA,UAFF;AAGTC,QAAAA,YAAY,EAACA,YAHJ;AAITC,QAAAA,UAAU,EAACA,UAJF;AAKTC,QAAAA,WAAW,EAACA,WALH;AAMTC,QAAAA,WAAW,EAACA;AANH,OAAb;AAQDG,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACC,WAAKG,YAAL,CAAkBH,IAAlB,EACCI,IADD,CACMC,IAAI,IAAE;AACV,YAAGA,IAAI,CAACf,KAAR,EAAc,KAAKH,QAAL,CAAc;AAACG,UAAAA,KAAK,EAACe,IAAI,CAACf;AAAZ,SAAd,EAAd,KACK,KAAKH,QAAL,CAAc;AACjBO,UAAAA,UAAU,EAAC,EADM;AAEjBC,UAAAA,YAAY,EAAC,EAFI;AAGjBC,UAAAA,UAAU,EAAC,EAHM;AAIjBE,UAAAA,WAAW,EAAC,EAJK;AAKjBQ,UAAAA,IAAI,EAAC;AALY,SAAd;AAON,OAVD;AAWD,KAzCY;;AAAA,SA2CbH,YA3Ca,GA2CEH,IAAI,IAAG;AACpB,aAAOO,KAAK,CAAE,wCAAuC,KAAKR,KAAL,CAAWN,UAAW,EAA/D,EAAiE;AAC3Ee,QAAAA,MAAM,EAAC,MADoE;AAE3EC,QAAAA,OAAO,EAAC;AACNC,UAAAA,MAAM,EAAC,kBADD;AAEN,0BAAe,kBAFT;AAGNC,UAAAA,aAAa,EAAE,UAAS/B,eAAe,GAAGgC,KAAM;AAH1C,SAFmE;AAO3EC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,IAAf;AAPqE,OAAjE,CAAL,CASNI,IATM,CASDY,QAAQ,IAAE;AACd,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAXM,EAYNC,KAZM,CAYAC,GAAG,IAAGlB,OAAO,CAACC,GAAR,CAAYiB,GAAZ,CAZN,CAAP;AAaD,KAzDY;;AAAA,SA2DdC,IA3Dc,GA2DPC,SAAS,IAAE;AAChB,YAAMT,KAAK,GAAGhC,eAAe,GAAGgC,KAAhC;AACA/B,MAAAA,IAAI,CAACwC,SAAD,EAAWT,KAAX,CAAJ,CACCR,IADD,CACMC,IAAI,IAAE;AACV,YAAGA,IAAI,CAACf,KAAR,EAAc;AACZW,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,SAFD,MAGI;AACF,eAAKf,QAAL,CAAc;AAACM,YAAAA,UAAU,EAACY,IAAI,CAACiB,GAAjB;AAAsBxB,YAAAA,WAAW,EAACO,IAAI,CAACP;AAAvC,WAAd;AACD;AACF,OARD;AASD,KAtEa;;AAEX,SAAKC,KAAL,GAAW;AACTN,MAAAA,UAAU,EAAC,EADF;AAEXC,MAAAA,UAAU,EAAC,EAFA;AAGXC,MAAAA,YAAY,EAAC,EAHF;AAIXC,MAAAA,UAAU,EAAC,EAJA;AAKXC,MAAAA,WAAW,EAAC,EALD;AAMXC,MAAAA,WAAW,EAAC,EAND;AAOXR,MAAAA,KAAK,EAAC,EAPK;AAQXgB,MAAAA,IAAI,EAAC;AARM,KAAX;AAUD;;AA4DDiB,EAAAA,iBAAiB,GAAE;AACjB,UAAMF,SAAS,GAAG,KAAKG,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBL,SAA1C;AACA,SAAKD,IAAL,CAAUC,SAAV;AACD;;AAEDM,EAAAA,MAAM,GAAE;AACN,UAAM;AAACjC,MAAAA,UAAD;AAAYC,MAAAA,YAAZ;AAAyBC,MAAAA,UAAzB;AAAoCC,MAAAA,WAApC;AAAgDC,MAAAA,WAAhD;AAA4DQ,MAAAA,IAA5D;AAAiEhB,MAAAA;AAAjE,QAA0E,KAAKS,KAArF;AACA,wBAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAI,MAAA,SAAS,EAAG,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,eAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAoC,MAAA,KAAK,EAAE;AAAC6B,QAAAA,OAAO,EAAEtC,KAAK,GAAC,EAAD,GAAI;AAAnB,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACOA,KADP,CADA,eAII;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJJ,eAKI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA2C,MAAA,QAAQ,EAAE,KAAKN,YAAL,CAAkB,YAAlB,CAArD;AAAqF,MAAA,KAAK,EAAEU,UAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,eAOI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA4C,MAAA,QAAQ,EAAE,KAAKV,YAAL,CAAkB,cAAlB,CAAtD;AAAyF,MAAA,KAAK,EAAEW,YAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAQI;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARJ,eASI;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,SAAS,EAAC,cAA9B;AAA4C,MAAA,QAAQ,EAAE,KAAKX,YAAL,CAAkB,YAAlB,CAAtD;AAAsF,MAAA,KAAK,EAAEY,UAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,eAUI;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVJ,eAWI;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA2C,MAAA,QAAQ,EAAE,KAAKZ,YAAL,CAAkB,aAAlB,CAArD;AAAuF,MAAA,KAAK,EAAEa,WAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,eAYI;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAZJ,eAaI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA2C,MAAA,QAAQ,EAAE,KAAKb,YAAL,CAAkB,cAAlB,CAArD;AAAuF,MAAA,KAAK,EAAEc,WAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CADA,CAFJ,eAmBI;AAAQ,MAAA,OAAO,EAAE,KAAKP,WAAtB;AAAmC,MAAA,SAAS,EAAC,4BAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBJ,eAoBI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,KAAK,EAAE;AAACqC,QAAAA,OAAO,EAAEtB,IAAI,GAAC,EAAD,GAAI;AAAlB,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DApBJ,CAFF;AA2BD;;AA3G4B;;AA6G/B,eAAexB,OAAf","sourcesContent":["import React,{Component} from \"react\"\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { read } from \"../patient/patientFunction\";\r\n\r\nclass Billing extends Component{\r\n  constructor(){\r\n    super()\r\n    this.state={\r\n      patient_id:\"\",\r\n    DoctorName:\"\",\r\n    DoctorCharge:\"\",  \r\n    RoomCharge:\"\",\r\n    ExtraCharge:\"\",\r\n    phoneNumber:\"\",\r\n    error:\"\",\r\n    open:false\r\n    }\r\n  }\r\n  handleChange = name=>event=>{\r\n    this.setState({[name]:event.target.value});\r\n    this.setState({error:\"\"});\r\n  }\r\n\r\n  clickSubmit = event =>{\r\n    event.preventDefault()\r\n    const {patient_id,DoctorName,DoctorCharge,RoomCharge,ExtraCharge,phoneNumber} = this.state\r\n    const bill = {\r\n        patient_id: patient_id,\r\n        DoctorName:DoctorName,\r\n        DoctorCharge:DoctorCharge,\r\n        RoomCharge:RoomCharge,\r\n        ExtraCharge:ExtraCharge,\r\n        phoneNumber:phoneNumber\r\n    }\r\n   console.log(bill)\r\n    this.generateBill(bill)\r\n    .then(data=>{\r\n      if(data.error)this.setState({error:data.error})\r\n      else this.setState({\r\n        DoctorName:\"\",\r\n        DoctorCharge:\"\",\r\n        RoomCharge:\"\",\r\n        phoneNumber:\"\",\r\n        open:true\r\n      })\r\n    })\r\n  }\r\n\r\n  generateBill = bill =>{\r\n    return fetch(`http://localhost:8080/billing/create/${this.state.patient_id}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        Accept:\"application/json\",\r\n        \"Content-Type\":\"application/json\" ,\r\n        Authorization:`Bearer ${isAuthenticated().token}` \r\n      },\r\n      body: JSON.stringify(bill)\r\n    })\r\n    .then(response=>{\r\n      return response.json()\r\n    })\r\n    .catch(err=> console.log(err))  \r\n  }\r\n\r\n init = patientId=>{\r\n   const token = isAuthenticated().token;\r\n   read(patientId,token)\r\n   .then(data=>{\r\n     if(data.error){\r\n       console.log(\"Some problem occured\")\r\n     }\r\n     else{\r\n       this.setState({patient_id:data._id, phoneNumber:data.phoneNumber})\r\n     }\r\n   })\r\n }\r\n\r\n  componentDidMount(){\r\n    const patientId = this.props.match.params.patientId\r\n    this.init(patientId)\r\n  }\r\n\r\n  render(){\r\n    const {DoctorName,DoctorCharge,RoomCharge,ExtraCharge,phoneNumber,open,error} = this.state\r\n    return(\r\n     \r\n      <div className=\"container\">\r\n      <h2 className = \"mt-5 mb-5\">Billing Summary</h2>  \r\n          <div className=\"form-group\">\r\n          <form > \r\n          <div className=\"alert alert-danger\" style={{display: error?\"\":\"none\"}}>\r\n                {error}\r\n        </div>\r\n              <label className=\"text-muted\">Doctor Incharge</label>\r\n              <input type=\"text\" className=\"form-control\"onChange={this.handleChange(\"DoctorName\")}value={DoctorName}></input>\r\n              <label className=\"text-muted\">Doctor's Charges</label>\r\n              <input type=\"text\" className=\"form-control\" onChange={this.handleChange(\"DoctorCharge\")} value={DoctorCharge}></input>\r\n              <label className=\"text-muted\">Room Charges</label>\r\n              <input  type=\"text\" className=\"form-control\"onChange={this.handleChange(\"RoomCharge\")}value={RoomCharge}></input>\r\n              <label className=\"text-muted\">Extra Charges</label>\r\n              <input  type=\"text\"className=\"form-control\"onChange={this.handleChange(\"ExtraCharge\")} value={ExtraCharge}></input>\r\n              <label className=\"text-muted\">Mobile Number</label>\r\n              <input type=\"text\" className=\"form-control\"onChange={this.handleChange(\"mobileNumber\")}value={phoneNumber}></input>\r\n            </form>\r\n          </div>\r\n          <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\r\n          <div className=\"alert alert-info\" style={{display: open?\"\":\"none\"}}>\r\n                    Bill successfully generated! Please view the bill.\r\n                </div>  \r\n  </div>\r\n    );\r\n  }\r\n}\r\nexport default Billing;"]},"metadata":{},"sourceType":"module"}