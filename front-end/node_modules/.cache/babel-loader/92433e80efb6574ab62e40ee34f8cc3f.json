{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mindt\\\\Downloads\\\\hospital-management-master\\\\hospital-management-master\\\\front-end\\\\src\\\\billing\\\\ChoosePatient.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth/index\";\n\nclass ChoosePatient extends Component {\n  constructor() {\n    super();\n\n    this.getPatient = event => {\n      event.preventDefault();\n      const {\n        firstname\n      } = this.state;\n      const name = {\n        firstname: firstname\n      };\n      this.getDetails(name).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n          this.setState({\n            available: false\n          });\n        } else {\n          this.setState({\n            _id: data.patient._id,\n            available: true\n          });\n        }\n      });\n    };\n\n    this.getDetails = patient => {\n      return fetch(\"http://localhost:8080/patient/details\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${isAuthenticated().token}`\n        },\n        body: JSON.stringify(patient)\n      }).then(response => {\n        return response.json();\n      }).catch(err => console.log(err));\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      this.setState({\n        error: \"\"\n      });\n    };\n\n    this.state = {\n      _id: \"\",\n      firstname: \"\",\n      available: false\n    };\n  }\n\n  render() {\n    const {\n      _id,\n      firstname,\n      error,\n      available\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    }, \"Find Patient\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }\n    }, error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }\n    }, \"Enter patient Name here\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      onChange: this.handleChange(\"firstname\"),\n      value: firstname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 20\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.getPatient,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 20\n      }\n    }, \"Find\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: available ? \"\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }\n    }, \"Patient exists\"), /*#__PURE__*/React.createElement(Link, {\n      to: `/create/bill/${_id}`,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 16\n      }\n    }, \"Generate the bill\"), /*#__PURE__*/React.createElement(Link, {\n      to: `/view/bill/${_id}`,\n      className: \"btn btn-raised btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 16\n      }\n    }, \"VIew Bills\")));\n  }\n\n}\n\nexport default ChoosePatient;","map":{"version":3,"sources":["C:/Users/mindt/Downloads/hospital-management-master/hospital-management-master/front-end/src/billing/ChoosePatient.js"],"names":["React","Component","Link","isAuthenticated","ChoosePatient","constructor","getPatient","event","preventDefault","firstname","state","name","getDetails","then","data","error","setState","available","_id","patient","fetch","method","headers","Accept","Authorization","token","body","JSON","stringify","response","json","catch","err","console","log","handleChange","target","value","render","display"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {isAuthenticated} from \"../auth/index\";\r\nclass ChoosePatient extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n        _id:\"\",\r\n        firstname:\"\",\r\n        available:false\r\n        }\r\n      }\r\n\r\n    getPatient = event =>{\r\n        event.preventDefault()\r\n        const {firstname} = this.state\r\n        const name = {\r\n            firstname:firstname\r\n        }\r\n        this.getDetails(name)\r\n        .then(data=>{\r\n            if(data.error){this.setState({error:data.error})\r\n            this.setState({available:false})\r\n        }\r\n            else{\r\n                this.setState({\r\n                    _id:data.patient._id,\r\n                    available:true\r\n                })\r\n            }\r\n        })\r\n    }\r\n    getDetails = patient =>{\r\n        return fetch(\"http://localhost:8080/patient/details\",{\r\n            method:\"POST\",\r\n            headers:{\r\n                Accept:\"application/json\",\r\n                \"Content-Type\":\"application/json\",\r\n                Authorization:`Bearer ${isAuthenticated().token}`\r\n            },\r\n            body: JSON.stringify(patient)\r\n        })\r\n        .then(response =>{\r\n            return response.json()\r\n        }) \r\n        .catch(err => console.log(err))\r\n    };\r\n\r\n        handleChange = name=>event=>{\r\n            this.setState({[name]: event.target.value}); \r\n            this.setState({error:\"\"});\r\n        };\r\n\r\n    render(){\r\n        const {_id,firstname,error,available} = this.state\r\n        return(\r\n           <div className=\"container\">\r\n               <h2 className=\"mt-5 mb-5\">Find Patient</h2>\r\n               <div className=\"alert alert-danger\" style={{display: error?\"\":\"none\"}}>\r\n                    {error}\r\n                </div>\r\n               <div className=\"form-group\">\r\n                   <form>\r\n                   <label className=\"text-muted\">Enter patient Name here</label>\r\n                   <input className=\"form-control\" type=\"text\" onChange={this.handleChange(\"firstname\")} value={firstname}></input>\r\n                   </form>\r\n                   <button onClick={this.getPatient} className=\"btn btn-raised btn-primary\">Find</button>\r\n               </div>\r\n               <div style={{display:available?\"\":\"none\"}}>\r\n               <div className=\"alert alert-info\">\r\n                    Patient exists\r\n                </div>\r\n               <Link to={`/create/bill/${_id}`} className=\"btn btn-raised btn-primary\">Generate the bill</Link>\r\n               <Link to={`/view/bill/${_id}`} className=\"btn btn-raised btn-primary\">VIew Bills</Link>\r\n            </div>\r\n           </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default ChoosePatient; "]},"metadata":{},"sourceType":"module"}